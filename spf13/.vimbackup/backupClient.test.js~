var BackupClient = require('../lib/BackupClient');
var Logger = require('bunyan');
var tap = require('tap');
var common = require('../lib/common');
var test = require('tap').test;
var Shard = require('../lib/shard');
var ZooKeeper = require('zookeeper');
var uuid = require('node-uuid');

var log = new Logger({
  name: 'backupServer-test',
  src: true,
  level: 'trace'
});

var backupClient = new BackupClient({
  log: log,
  dataset: 'foobar',
  serverUrl: 'http://localhost:8080',
  zfsHost: 'localhost',
  zfsPort: 1234,
  pollInterval: 500,
  zfsRecvPath: './zfs_recv'
});

backupClient.restore(function(err) {
  log.info('finished backup', err);
});
